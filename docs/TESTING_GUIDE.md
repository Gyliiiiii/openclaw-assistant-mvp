# 测试指南

## 当前状态

✅ Deepgram API Key 已配置
✅ 应用已启动
✅ 环境变量已加载

## 测试步骤

### 1. 打开应用窗口
应用应该已经在屏幕上显示，如果没有看到，请检查任务栏或 Dock。

### 2. 测试语音识别

**步骤**：
1. 点击麦克风图标（应该会变成红色）
2. 对着麦克风说话，例如：
   - "今天有什么邮件"
   - "今天的日程安排"
   - "查看邮件"

**预期效果**：
- 点击后麦克风图标变红
- 对话气泡显示"正在聆听..."
- 说话时实时显示：`正在识别: [你说的内容]`
- 识别完成后显示：`收到指令: "[你的命令]"`
- 自动执行命令并显示结果面板

### 3. 停止录音
再次点击麦克风图标停止录音。

## 调试模式

如果遇到问题，可以开启开发者工具查看详细日志：

```bash
# 停止当前应用
pkill -f "electron.*openclaw-assistant-mvp"

# 以开发模式启动
npm run dev
```

开发模式会自动打开 Chrome DevTools，可以查看：
- Console 日志
- Network 请求
- 错误信息

## 常见问题排查

### 1. 麦克风权限
如果提示"请允许访问麦克风"：
- macOS: 系统偏好设置 → 安全性与隐私 → 隐私 → 麦克风
- 确保 Electron 或应用有麦克风权限

### 2. 没有识别结果
- 检查麦克风是否正常工作
- 尝试说话更清晰一些
- 检查网络连接（Deepgram 需要网络）

### 3. API Key 错误
如果提示 API Key 相关错误：
- 检查 `.env` 文件是否存在
- 确认 API Key 正确无误
- 重启应用

## 测试命令

支持的命令关键词：
- **邮件**: "邮件"、"email"
- **日程**: "汇报"、"briefing"、"今天"、"日程"

## 实时识别效果

正常情况下你会看到：
1. 点击麦克风 → "正在聆听..."
2. 开始说话 → "正在识别: 今天有..."
3. 继续说话 → "正在识别: 今天有什么邮件"
4. 识别完成 → "收到指令: 今天有什么邮件"
5. 显示结果 → 邮件列表面板弹出

## 性能指标

- **延迟**: 通常 < 500ms
- **准确度**: 中文识别准确度 > 90%
- **实时性**: 边说边显示识别结果

## 下一步

测试成功后，可以：
1. 尝试更多自然语言命令
2. 测试连续对话（不停止录音，连续说多个命令）
3. 查看 Deepgram 控制台的使用统计

## 技术支持

如有问题，请查看：
- 控制台日志（开发模式）
- `DEEPGRAM_SETUP.md` 详细文档
- Deepgram 控制台: https://console.deepgram.com/
